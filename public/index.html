<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Batak Hafıza</title>
<style>
body { background:#0b3d2e; color:white; text-align:center; font-family:Arial }
#board { display:grid; grid-template-columns:repeat(9,1fr); gap:6px; max-width:900px; margin:auto }
.card { cursor:pointer }
img { width:100% }
</style>
</head>
<body>

<h2>Batak Hafıza Oyunu</h2>
<div id="board"></div>

<script src="/socket.io/socket.io.js"></script>
<script>
const socket = io();
const room = new URLSearchParams(location.search).get("room") || "masa1";
const name = prompt("İsminizi girin");
socket.emit("joinRoom", { room, name });

socket.on("state", game => {
  const board = document.getElementById("board");
  board.innerHTML = "";
  game.deck.forEach((c,i)=>{
    const d=document.createElement("div");
    d.className="card";
    const img=document.createElement("img");
    img.src=c.img;
    d.onclick=()=>socket.emit("cardClick",{room,index:i});
    d.appendChild(img);
    board.appendChild(d);
  });
});
</script>

</body>
</html>
